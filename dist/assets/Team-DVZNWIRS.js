import{i as u,r as c,a as w,j as e,B as t,S as K,I as d,U as O,f as h,C as Q}from"./index-D0FyutOn.js";import{C as i,c as r,a as o,b as x}from"./card-C7X9d_pw.js";import{T as W,a as Y,b as y,c as b}from"./tabs-D8dsfIBp.js";import{C as Z,a as ee}from"./circle-x-BsfKIglN.js";import{C as D}from"./clock-DoB2HT0M.js";import{S as I,T}from"./trash-2-Xo58w84t.js";import{U as E}from"./user-B1A7UbEb.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ae=u("crown",se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],C=u("mail",te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],k=u("map-pin",le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],re=u("phone",ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ce=u("shield",ne);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oe=u("user-plus",de);function Ne(){const[j,R]=c.useState([]),[U,q]=c.useState(!0),[$,M]=c.useState(!1),[p,B]=c.useState(""),[S,V]=c.useState("all"),[_,F]=c.useState("all"),[a,l]=c.useState({firstName:"",lastName:"",email:"",phone:"",role:"member",department:"",position:"",skills:""});c.useEffect(()=>{N()},[]);const N=async()=>{try{const s=await w.get("/users");R(s)}catch(s){console.error("Error fetching team members:",s)}finally{q(!1)}},H=async()=>{try{const s={...a,skills:a.skills?a.skills.split(",").map(n=>n.trim()):[]};await w.post("/users",s),l({firstName:"",lastName:"",email:"",phone:"",role:"member",department:"",position:"",skills:""}),M(!1),N()}catch(s){console.error("Error adding team member:",s)}},m=async(s,n)=>{try{await w.put(),N()}catch(f){console.error("Error updating member status:",f)}},A=async s=>{if(window.confirm("Are you sure you want to remove this team member?"))try{await w.delete(),N()}catch(n){console.error("Error deleting team member:",n)}},v=s=>{switch(s){case"admin":return e.jsx(ae,{className:"w-4 h-4"});case"manager":return e.jsx(ce,{className:"w-4 h-4"});case"member":return e.jsx(E,{className:"w-4 h-4"});case"viewer":return e.jsx(D,{className:"w-4 h-4"});default:return e.jsx(E,{className:"w-4 h-4"})}},g=s=>{switch(s){case"admin":return"bg-purple-100 text-purple-800";case"manager":return"bg-blue-100 text-blue-800";case"member":return"bg-green-100 text-green-800";case"viewer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},J=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},X=(j||[]).filter(s=>{const n=(s.firstName||"").toLowerCase().includes(p.toLowerCase())||(s.lastName||"").toLowerCase().includes(p.toLowerCase())||(s.email||"").toLowerCase().includes(p.toLowerCase())||(s.department||"").toLowerCase().includes(p.toLowerCase()),f=S==="all"||s.role===S,G=_==="all"||s.status===_;return n&&f&&G}),L=(j||[]).filter(s=>s.status==="active"),z=(j||[]).filter(s=>s.status==="inactive"),P=(j||[]).filter(s=>s.status==="pending");return U?e.jsx("div",{className:"text-center py-12",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Team Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your team members and their roles"})]}),e.jsxs(t,{onClick:()=>M(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(d,{placeholder:"Search team members...",value:p,onChange:s=>B(s.target.value),className:"pl-10"})]}),e.jsxs("select",{className:"p-2 border rounded",value:S,onChange:s=>V(s.target.value),"aria-label":"Filter by role",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"viewer",children:"Viewer"})]}),e.jsxs("select",{className:"p-2 border rounded",value:_,onChange:s=>F(s.target.value),"aria-label":"Filter by status",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(i,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Total Members"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(j||[]).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All team members"})]})]}),e.jsxs(i,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Active Members"}),e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),e.jsxs(i,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Inactive Members"}),e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:z.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Not active"})]})]}),e.jsxs(i,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Pending"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:P.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting activation"})]})]})]}),e.jsxs(W,{defaultValue:"all",className:"space-y-4",children:[e.jsxs(Y,{children:[e.jsx(y,{value:"all",children:"All Members"}),e.jsx(y,{value:"active",children:"Active"}),e.jsx(y,{value:"inactive",children:"Inactive"}),e.jsx(y,{value:"pending",children:"Pending"})]}),e.jsx(b,{value:"all",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(x,{children:"All Team Members"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold",children:[(s.firstName||"")[0],(s.lastName||"")[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.firstName||""," ",s.lastName||""]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position||"No position"})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(h,{className:g(s.role||"member"),children:v(s.role||"member")}),e.jsx(h,{className:J(s.status||"inactive"),children:s.status||"inactive"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.email||"No email"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(re,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.phone||"No phone"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.department||"No department"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Q,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["Joined"," ",s.joinDate?new Date(s.joinDate).toLocaleDateString():"Unknown"]})]})]}),(s.skills||[]).length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(s.skills||[]).map((n,f)=>e.jsx(h,{variant:"outline",className:"text-xs",children:n},f))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:(s.performance||{}).completedTasks||0}),e.jsxs("span",{className:"text-muted-foreground",children:["/",(s.performance||{}).totalTasks||0," tasks"]})]}),e.jsxs("div",{className:"flex space-x-1",children:[s.status==="active"&&e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Deactivate"}),s.status==="inactive"&&e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Activate"}),s.status==="pending"&&e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Approve"}),e.jsx(t,{size:"sm",variant:"outline",onClick:()=>{},children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"sm",variant:"outline",onClick:()=>A(s._id),children:e.jsx(T,{className:"w-4 h-4"})})]})]})]},s._id))})})]})}),e.jsx(b,{value:"active",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(x,{children:"Active Members"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold",children:[s.firstName[0],s.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position})]})]}),e.jsx(h,{className:g(s.role),children:v(s.role)})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.department})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:(s.performance||{}).completedTasks||0}),e.jsxs("span",{className:"text-muted-foreground",children:["/",(s.performance||{}).totalTasks||0," tasks"]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Deactivate"}),e.jsx(t,{size:"sm",variant:"outline",onClick:()=>{},children:e.jsx(I,{className:"w-4 h-4"})})]})]})]},s._id))})})]})}),e.jsx(b,{value:"inactive",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(x,{children:"Inactive Members"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 border-red-200 bg-red-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-white font-semibold",children:[s.firstName[0],s.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position})]})]}),e.jsx(h,{className:g(s.role),children:v(s.role)})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.department})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:(s.performance||{}).completedTasks||0}),e.jsxs("span",{className:"text-muted-foreground",children:["/",(s.performance||{}).totalTasks||0," tasks"]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Activate"}),e.jsx(t,{size:"sm",variant:"outline",onClick:()=>A(s._id),children:e.jsx(T,{className:"w-4 h-4"})})]})]})]},s._id))})})]})}),e.jsx(b,{value:"pending",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(x,{children:"Pending Members"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 border-yellow-200 bg-yellow-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-white font-semibold",children:[s.firstName[0],s.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position})]})]}),e.jsx(h,{className:g(s.role),children:v(s.role)})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.department})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Awaiting approval"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(t,{size:"sm",variant:"outline",onClick:()=>m(s._id),children:"Approve"}),e.jsx(t,{size:"sm",variant:"outline",onClick:()=>A(s._id),children:e.jsx(T,{className:"w-4 h-4"})})]})]})]},s._id))})})]})})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background p-6 rounded-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Team Member"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{placeholder:"First Name",value:a.firstName,onChange:s=>l({...a,firstName:s.target.value})}),e.jsx(d,{placeholder:"Last Name",value:a.lastName,onChange:s=>l({...a,lastName:s.target.value})}),e.jsx(d,{type:"email",placeholder:"Email",value:a.email,onChange:s=>l({...a,email:s.target.value})}),e.jsx(d,{placeholder:"Phone",value:a.phone,onChange:s=>l({...a,phone:s.target.value})}),e.jsxs("select",{className:"w-full p-2 border rounded",value:a.role,onChange:s=>l({...a,role:s.target.value}),"aria-label":"Select member role",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"viewer",children:"Viewer"})]}),e.jsx(d,{placeholder:"Department",value:a.department,onChange:s=>l({...a,department:s.target.value})}),e.jsx(d,{placeholder:"Position",value:a.position,onChange:s=>l({...a,position:s.target.value})}),e.jsx(d,{placeholder:"Skills (comma separated)",value:a.skills,onChange:s=>l({...a,skills:s.target.value})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{onClick:H,className:"flex-1",children:"Add Member"}),e.jsx(t,{variant:"outline",onClick:()=>M(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})}export{Ne as default};
